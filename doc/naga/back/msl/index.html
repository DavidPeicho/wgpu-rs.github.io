<!DOCTYPE html><html lang="en"><head><meta charset="utf-8"><meta name="viewport" content="width=device-width, initial-scale=1.0"><meta name="generator" content="rustdoc"><meta name="description" content="Metal Shading Language (MSL) backend"><meta name="keywords" content="rust, rustlang, rust-lang, msl"><title>naga::back::msl - Rust</title><link rel="stylesheet" type="text/css" href="../../../normalize.css"><link rel="stylesheet" type="text/css" href="../../../rustdoc.css" id="mainThemeStyle"><link rel="stylesheet" type="text/css" href="../../../light.css"  id="themeStyle"><link rel="stylesheet" type="text/css" href="../../../dark.css" disabled ><link rel="stylesheet" type="text/css" href="../../../ayu.css" disabled ><script id="default-settings"></script><script src="../../../storage.js"></script><script src="../../../crates.js"></script><noscript><link rel="stylesheet" href="../../../noscript.css"></noscript><link rel="icon" type="image/svg+xml" href="../../../favicon.svg">
<link rel="alternate icon" type="image/png" href="../../../favicon-16x16.png">
<link rel="alternate icon" type="image/png" href="../../../favicon-32x32.png"><style type="text/css">#crate-search{background-image:url("../../../down-arrow.svg");}</style></head><body class="rustdoc mod"><!--[if lte IE 8]><div class="warning">This old browser is unsupported and will most likely display funky things.</div><![endif]--><nav class="sidebar"><div class="sidebar-menu" role="button">&#9776;</div><a href='../../../naga/index.html'><div class='logo-container rust-logo'><img src='../../../rust-logo.png' alt='logo'></div></a><p class="location">Module msl</p><div class="sidebar-elems"><div class="block items"><ul><li><a href="#structs">Structs</a></li><li><a href="#enums">Enums</a></li><li><a href="#functions">Functions</a></li><li><a href="#types">Type Definitions</a></li></ul></div><p class="location"><a href="../../index.html">naga</a>::<wbr><a href="../index.html">back</a></p><div id="sidebar-vars" data-name="msl" data-ty="mod" data-relpath="../"></div><script defer src="../sidebar-items.js"></script></div></nav><div class="theme-picker"><button id="theme-picker" aria-label="Pick another theme!" aria-haspopup="menu"><img src="../../../brush.svg" width="18" height="18" alt="Pick another theme!"></button><div id="theme-choices" role="menu"></div></div><nav class="sub"><form class="search-form"><div class="search-container"><div><select id="crate-search"><option value="All crates">All crates</option></select><input class="search-input" name="search" disabled autocomplete="off" spellcheck="false" placeholder="Click or press ‘S’ to search, ‘?’ for more options…" type="search"></div><button type="button" class="help-button">?</button>
                <a id="settings-menu" href="../../../settings.html"><img src="../../../wheel.svg" width="18" height="18" alt="Change settings"></a></div></form></nav><section id="main" class="content"><h1 class="fqn"><span class="in-band">Module <a href="../../index.html">naga</a>::<wbr><a href="../index.html">back</a>::<wbr><a class="mod" href="">msl</a></span><span class="out-of-band"><span id="render-detail"><a id="toggle-all-docs" href="javascript:void(0)" title="collapse all docs">[<span class="inner">&#x2212;</span>]</a></span><a class="srclink" href="../../../src/naga/back/msl/mod.rs.html#1-258" title="goto source code">[src]</a></span></h1><div class="docblock"><p>Metal Shading Language (MSL) backend</p>
<h2 id="binding-model" class="section-header"><a href="#binding-model">Binding model</a></h2>
<p>Metal’s bindings are flat per resource. Since there isn’t an obvious mapping
from SPIR-V’s descriptor sets, we require a separate mapping provided in the options.
This mapping may have one or more resource end points for each descriptor set + index
pair.</p>
<h2 id="entry-points" class="section-header"><a href="#entry-points">Entry points</a></h2>
<p>Even though MSL and our IR appear to be similar in that the entry points in both can
accept arguments and return values, the restrictions are different.
MSL allows the varyings to be either in separate arguments, or inside a single
<code>[[stage_in]]</code> struct. We gather input varyings and form this artificial structure.
We also add all the (non-Private) globals into the arguments.</p>
<p>At the beginning of the entry point, we assign the local constants and re-compose
the arguments as they are declared on IR side, so that the rest of the logic can
pretend that MSL doesn’t have all the restrictions it has.</p>
<p>For the result type, if it’s a structure, we re-compose it with a temporary value
holding the result.</p>
</div><h2 id="structs" class="section-header"><a href="#structs">Structs</a></h2>
<table><tr class="module-item"><td><a class="struct" href="struct.BindSource.html" title="naga::back::msl::BindSource struct">BindSource</a></td><td class="docblock-short"></td></tr><tr class="module-item"><td><a class="struct" href="struct.BindTarget.html" title="naga::back::msl::BindTarget struct">BindTarget</a></td><td class="docblock-short"></td></tr><tr class="module-item"><td><a class="struct" href="struct.Options.html" title="naga::back::msl::Options struct">Options</a></td><td class="docblock-short"></td></tr><tr class="module-item"><td><a class="struct" href="struct.TranslationInfo.html" title="naga::back::msl::TranslationInfo struct">TranslationInfo</a></td><td class="docblock-short"><p>Information about a translated module that is required
for the use of the result.</p>
</td></tr><tr class="module-item"><td><a class="struct" href="struct.Writer.html" title="naga::back::msl::Writer struct">Writer</a></td><td class="docblock-short"></td></tr></table><h2 id="enums" class="section-header"><a href="#enums">Enums</a></h2>
<table><tr class="module-item"><td><a class="enum" href="enum.EntryPointError.html" title="naga::back::msl::EntryPointError enum">EntryPointError</a></td><td class="docblock-short"></td></tr><tr class="module-item"><td><a class="enum" href="enum.Error.html" title="naga::back::msl::Error enum">Error</a></td><td class="docblock-short"></td></tr></table><h2 id="functions" class="section-header"><a href="#functions">Functions</a></h2>
<table><tr class="module-item"><td><a class="fn" href="fn.write_string.html" title="naga::back::msl::write_string fn">write_string</a></td><td class="docblock-short"></td></tr></table><h2 id="types" class="section-header"><a href="#types">Type Definitions</a></h2>
<table><tr class="module-item"><td><a class="type" href="type.BindingMap.html" title="naga::back::msl::BindingMap type">BindingMap</a></td><td class="docblock-short"></td></tr></table></section><section id="search" class="content hidden"></section><section class="footer"></section><div id="rustdoc-vars" data-root-path="../../../" data-current-crate="naga" data-search-js="../../../search-index.js"></div>
    <script src="../../../main.js"></script></body></html>